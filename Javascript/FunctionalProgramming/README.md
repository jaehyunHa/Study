# 순수 함수의 특징은 대략 이 두 가지이다.
* 함수 외부의 상태를 변경하거나 참조하지 않는다!
* 동일한 입력을 넣었으면 항상 동일한 출력을 반환해야 한다!

## 순수함수 단점
함수에서 어떤 타입이 반환될지 장담할 수 없다는 불확실성 또한 결국. 
정의역과 치역을 일치시켜야하는 함수의 합성 과정에서 명확한 타입의 사용을 저해하는 요소가 되기 때문에. 
반드시 믿고 걸러야하는 사이드 이펙트라고 할 수 있다


# [[ 프로그래밍 패러다임(Programming Paradigm) ]](https://mangkyu.tistory.com/111)
프로그래밍 패러다임(Programming Paradigm)은 프로그래머에게 프로그래밍의 관점을 갖게 하고 코드를 어떻게 작성할 지 결정하는 역할을 한다. 새로운 프로그래밍 패러다임을 통해서는 새로운 방식으로 생각하는 법을 배우게 되고, 이를 바탕으로 코드를 작성하게 된다.

최근의 프로그래밍 패러다임은 크게 아래와 같이 구분할 수 있다.

* 명령형 프로그래밍: 무엇(What)을 할 것인지 나타내기보다 어떻게(How) 할 건지를 설명하는 방식
  * 절차지향 프로그래밍: 수행되어야 할 순차적인 처리 과정을 포함하는 방식 (C, C++)
  * 객체지향 프로그래밍: 객체들의 집합으로 프로그램의 상호작용을 표현 (C++, Java, C#)
* 선언형 프로그래밍: 어떻게 할건지(How)를 나타내기보다 무엇(What)을 할 건지를 설명하는 방식
  * 함수형 프로그래밍: 순수 함수를 조합하고 소프트웨어를 만드는 방식 (클로저, 하스켈, 리스프)

## [불변성](https://evan-moon.github.io/2020/01/05/what-is-immutable/)
그렇다면 불변성이 이야기하고 있는 상태의 변경이라는 것이 정확히 어떤 행위를 의미하는 것일까?. 
단순히 프로그램의 변수를 변경하거나 재할당 하지 않는 것을 이야기하는 것일까?

사실 불변성이 이야기하는 상태의 변경이라는 것은 단순한 변수의 재할당을 이야기하는 것이 아니다.  
정확히 말하면 메모리에 저장된 값을 변경하는 모든 행위를 의미하며, 여기에 변수의 재할당과 같은 행위도 포함되는 것이다.

즉, 불변성을 유지한다는 것은 단순히 “함수의 인자를 변경하지 않는다”라던가 “변수를 재할당하지 않는다”는 개념이 아닌 것이다.  
포인트는 메모리에 이미 담겨있는 값을 변경하지 않는 것이다.

### 불변성의 장점
#### 1. 무분별한 상태의 변경을 막는다

상태는 프로그램의 현재 상황을 보여주는 좋은 역할도 하지만,. 
여기저기서 무분별하게 이 상태를 참조하거나 변경하는 경우, 개발자조차 현재 프로그램이 어떻게 돌아가는지 파악하기 힘든 슬픈 상황이 발생할 수도 있다.

그래서 개발자들은 상태를 변경하는 행위에 특정한 규칙과 제약을 정해서 무분별한 상태 변화를 최대한 피하고,. 
이런 변화를 추적할 수 있는 상황을 선호할 수 밖에 없다.

무분별한 상태 변경 때문에 프로그램이 터지게 되는 가장 대표적인 상황은 바로 “전역 변수의 남용”이다.  
자바스크립트에서 전역 변수의 사용을 아예 금지하는 컨벤션을 추천하는 것도 바로 이 이유이다.

#### 2. 상태의 변경을 추적하기가 쉽다

일반적으로 자바스크립트의 객체의 프로퍼티나 배열의 원소를 변경해야하는 경우,  
필연적으로 불변성이 깨질 수 밖에 없다.

애초에 배열이나 객체가 처음 나왔을 때, 어딘가에 구조화된 데이터를 저장해놓고 상태를 유지하고. 
변경해가며 사용하고자 하는 목적을 가지고 있었기 때문이다.

### 객체지향 프로그래밍과 불변성
불변성을 지향한다는 함수형 프로그래밍의 특징은 기존에 우리가 익숙하게 사용하는 객체지향 프로그래밍과는 많이 다르다.

객체지향 프로그래밍은 private과 같은 접근 제한자로 상태를 외부에 노출시키지 않음으로써. 
사용자가 단순한 인터페이스를 접할 수 있도록 하지만,. 
함수형 프로그래밍은 아예 프로그램의 상태를 변경하지 않는 불변성을 지향하면서. 
프로그램의 동작을 예측하기 쉽고 단순하게 만든다.

OOP는 변경 가능한 상태를 감추며 단순함을 만들어내지만,
FP는 아예 변경 가능한 상태를 없앰으로써 단순함을 만들어낸다

즉, 객체지향 프로그래밍과 함수형 프로그래밍은 상태를 바라보는 관점 자체가 다르다는 것이다.. 
애초에 객체지향 프로그래밍은 상태를 “잘 변경하는 것”에 초점을 맞추는 패러다임이기 때문에 불변성과는 약간 거리가 있다.

또한 아직까지 우리가 사용하는 대부분의 API나 라이브러리들은 객체지향 프로그래밍을 기반으로 설계되고 있기 때문에. 
우리는 객체지향 프로그래밍에서 완벽하게 독립할 수 없는 상황이다.

문제는 이렇게 객체지향 프로그래밍을 기반으로 설계된 것들을 불변의 법칙으로 관리하려면 꽤 많은 비용이 들 수도 있다는 것이다.


## OOP와 함수형 프로그래밍의 가장 큰 차이점은 무엇인가
객체지향은 객체 안에 상태를 저장하고, 이 상태를 이용해서 메소드를 추가하고 상태변화를 설정하고 조정하기위해 다양한 기능을 사용한다.  
이에 반해 함수형 프로그래밍은 상태를 제어하는것보다 상태를 저장하지 않고 없애는데 주력한다.   

예를들면, 객체 지향은 상태를 저장하는 필드와 그 필드들을 이용해 기능을 제공하는 메소드를 만들고 클래스를 만듭니다.  
반면 함수형은 몇몇 자료구조(list, map, set) 등을 이용해 최적화된 동작을 만들어낸다.

## 명령형 프로그램과의 차이점
명령형의 함수는 프로그램의 상태가 변할 수 있다. 따라서 명령형 함수는 참조 투명성이 없고,  
같은 코드라도 실행되는 프로그램의 상태에 따라 다른 결과값을 낼 수 있다.

함수형 코드에서는 함수의 출력값은 그 함수에 입력된 인수에만 의존하므로 부작용을 제거하면  
프로그램의 동작을 이해하고 예측하기가 훨씬 쉽게 된다.
